---
description: "Go standards: idiomatic, typed, and checked."
required: false
category: "language"
subcategory: "go"
globs:
  - "**/*.go"
---

[SOURCE OF TRUTH]
- Editable source: `rules/languages/50-lang-go.mdc`
- Generated/consumed copy: `.cursor/rules/50-lang-go.mdc` (keep references intact)

[INTENT]
- Define Go standards (architecture alignment, testing, security).

[APPLICABILITY]
- Applies to Go code; must align with architecture/security/testing spine unless explicit risk override per `.cursor/rules/3G-risk-overrides.mdc`.

[CROSS-REFERENCES]
- Architecture/DDD: `.cursor/rules/36-architecture.mdc`, `.cursor/rules/44-ddd.mdc` (binding)
- Testing/change-discipline: `.cursor/rules/31-testing.mdc`, `.cursor/rules/23-change-control.mdc` (binding)
- Risk overrides: `.cursor/rules/3G-risk-overrides.mdc` (explicit overrides only)

[GO STANDARDS]
- Stack: Go 1.22+ with modules.
- Style/lint: `gofmt` + `goimports`; `staticcheck` or `golangci-lint`; command: `gofmt -w . && goimports -w . && staticcheck ./...`.
- Errors: handle and wrap errors; use `errors.Is/As`; no panics for normal flow.
- Concurrency: contexts everywhere with timeouts; bounded worker pools; avoid data races; prefer channels with back-pressure.
- Safety: parameterized queries; validate inputs; avoid logging secrets; TLS for network calls; run `gosec ./...`.
- Testing: `go test ./...` (race detector where relevant); table-driven tests including negatives; `go test -bench=.` for hotspots.
- Performance: avoid unnecessary goroutines; manage allocations; reuse buffers when safe.
- Verification artifact: `gofmt -w . && goimports -w . && staticcheck ./... && gosec ./... && go test ./...`.

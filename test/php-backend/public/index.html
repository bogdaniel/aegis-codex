<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>PHP Backend - User Registration & Orders</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <h1>PHP Backend API</h1>
        <p>User Registration & Order Placement</p>
    </header>

    <main>
        <section id="register-section" aria-labelledby="register-heading">
            <h2 id="register-heading">Register User</h2>
            <form id="register-form" novalidate>
                <fieldset>
                    <legend>User Information</legend>
                    <div class="form-group">
                        <label for="email">Email <span class="required">*</span></label>
                        <input 
                            type="email" 
                            id="email" 
                            name="email" 
                            required 
                            aria-required="true"
                            aria-describedby="email-error"
                            autocomplete="email">
                        <div id="email-error" class="error-message" role="alert" aria-live="polite"></div>
                    </div>

                    <div class="form-group">
                        <label for="password">Password <span class="required">*</span></label>
                        <input 
                            type="password" 
                            id="password" 
                            name="password" 
                            required 
                            aria-required="true"
                            aria-describedby="password-error"
                            autocomplete="new-password"
                            minlength="8">
                        <div id="password-error" class="error-message" role="alert" aria-live="polite"></div>
                        <small>Password must be at least 8 characters long</small>
                    </div>

                    <button type="submit" id="register-submit" disabled>Register</button>
                </fieldset>
            </form>
            <div id="register-result" class="result-message" role="status" aria-live="polite"></div>
        </section>

        <section id="order-section" aria-labelledby="order-heading">
            <h2 id="order-heading">Place Order</h2>
            <form id="order-form" novalidate>
                <fieldset>
                    <legend>Order Information</legend>
                    <div class="form-group">
                        <label for="userId">User UUID <span class="required">*</span></label>
                        <input 
                            type="text" 
                            id="userId" 
                            name="userId" 
                            required 
                            aria-required="true"
                            aria-describedby="userId-error"
                            pattern="[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}"
                            placeholder="e.g., 41dd629b-e7ba-44e0-b941-35f79d1e7324">
                        <div id="userId-error" class="error-message" role="alert" aria-live="polite"></div>
                        <small>Enter the UUID from user registration</small>
                    </div>

                    <div class="form-group">
                        <label for="amount">Amount <span class="required">*</span></label>
                        <input 
                            type="number" 
                            id="amount" 
                            name="amount" 
                            required 
                            aria-required="true"
                            aria-describedby="amount-error"
                            step="0.01"
                            min="0.01">
                        <div id="amount-error" class="error-message" role="alert" aria-live="polite"></div>
                        <small>Order amount must be greater than zero</small>
                    </div>

                    <button type="submit" id="order-submit" disabled>Place Order</button>
                </fieldset>
            </form>
            <div id="order-result" class="result-message" role="status" aria-live="polite"></div>
        </section>

        <section id="users-section" aria-labelledby="users-heading">
            <div class="section-header">
                <h2 id="users-heading">Registered Users</h2>
                <button type="button" id="refresh-users" class="refresh-button" aria-label="Refresh users list">Refresh</button>
            </div>
            <div id="users-loading" class="loading-message">Loading users...</div>
            <div id="users-error" class="error-message" role="alert" aria-live="polite"></div>
            <div id="users-list" class="data-list" role="list"></div>
        </section>

        <section id="orders-section" aria-labelledby="orders-heading">
            <div class="section-header">
                <h2 id="orders-heading">Orders</h2>
                <button type="button" id="refresh-orders" class="refresh-button" aria-label="Refresh orders list">Refresh</button>
            </div>
            <div id="orders-loading" class="loading-message">Loading orders...</div>
            <div id="orders-error" class="error-message" role="alert" aria-live="polite"></div>
            <div id="orders-list" class="data-list" role="list"></div>
        </section>

        <section id="products-section" aria-labelledby="products-heading">
            <div class="section-header">
                <h2 id="products-heading">Products</h2>
                <button type="button" id="refresh-products" class="refresh-button" aria-label="Refresh products list">Refresh</button>
            </div>
            <div id="products-loading" class="loading-message">Loading products...</div>
            <div id="products-error" class="error-message" role="alert" aria-live="polite"></div>
            <div id="products-list" class="data-list" role="list"></div>
        </section>
    </main>

    <footer>
        <p>API running on <code>http://localhost:8000</code></p>
    </footer>

    <script src="validation.js"></script>
    <script src="api.js"></script>
    <script src="app.js"></script>
</body>
</html>


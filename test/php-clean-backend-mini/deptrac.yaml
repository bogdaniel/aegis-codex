paths:
  - ./src

layers:
  - name: IdentityDomain
    collectors:
      - type: directory
        regex: .*IdentityContext/Domain.*
  - name: IdentityApplication
    collectors:
      - type: directory
        regex: .*IdentityContext/Application.*
  - name: IdentityInfrastructure
    collectors:
      - type: directory
        regex: .*IdentityContext/Infrastructure.*
  - name: IdentityInterface
    collectors:
      - type: directory
        regex: .*IdentityContext/Interface.*
  - name: OrdersDomain
    collectors:
      - type: directory
        regex: .*OrdersContext/Domain.*
  - name: OrdersApplication
    collectors:
      - type: directory
        regex: .*OrdersContext/Application.*
  - name: OrdersInfrastructure
    collectors:
      - type: directory
        regex: .*OrdersContext/Infrastructure.*
  - name: OrdersInterface
    collectors:
      - type: directory
        regex: .*OrdersContext/Interface.*

ruleset:
  IdentityDomain:
    - IdentityApplication
  IdentityApplication:
    - IdentityDomain
    - IdentityInfrastructure
  IdentityInfrastructure:
    - IdentityDomain
    - IdentityApplication
  IdentityInterface:
    - IdentityDomain
    - IdentityApplication
  OrdersDomain:
    - OrdersApplication
  OrdersApplication:
    - OrdersDomain
    - OrdersInfrastructure
    - IdentityApplication
  OrdersInfrastructure:
    - OrdersDomain
    - OrdersApplication
    - IdentityDomain
  OrdersInterface:
    - OrdersDomain
    - OrdersApplication


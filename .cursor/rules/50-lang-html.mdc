---
description: "HTML standards — semantic structure, accessibility, and head/document hygiene."
alwaysApply: true
globs:
  - "src/**/*.html"
  - "public/**/*.html"
  - "resources/views/**/*.html"
  - "templates/**/*.html"
  - "frontend/**/*.html"
---

[HTML — SEMANTICS, ACCESSIBILITY & DOCUMENT STRUCTURE]

[BASELINE]
- HTML must be:
  - Semantic: elements reflect their purpose, not just used for styling.
  - Accessible: usable via keyboard and assistive technologies.
  - Predictable: consistent structure across pages, clear headings and landmarks.
- Align with docs/architecture/design-principles.md and accessibility rule (39-accessibility.mdc).

[DOCUMENT SKELETON & HEAD HYGIENE]
- Document:
  - Always use `<!doctype html>`, `<html lang="...">`, `<head>`, `<body>`.
  - Set `lang` correctly for the primary language of the page.
- `<head>`:
  - Include a descriptive `<title>` and relevant `<meta name="description">`.
  - Include `<meta charset="utf-8">` and responsive viewport `<meta name="viewport" content="width=device-width, initial-scale=1">`.
  - Only load necessary assets; avoid blocking scripts/styles where possible.
  - Use `<link rel="canonical">`, `<meta name="robots">`, and social metadata (Open Graph/Twitter) for public pages where appropriate.
- Scripts & styles:
  - Prefer external JS/CSS files for production code; inline only small snippets for demos/tests.
  - Use `defer`/`async` for scripts where safe; avoid blocking rendering unnecessarily.

[SEMANTIC LAYOUT & STRUCTURE]
- Landmarks:
  - Use `<header>`, `<nav>`, `<main>`, `<section>`, `<article>`, `<aside>`, `<footer>` appropriately.
  - Each page must have a single `<main>` element representing primary content.
- Headings:
  - Use one `<h1>` per document (or per main content region in SPA subtrees) and descending `<h2>`, `<h3>` for subsections.
  - Do not skip levels purely for styling; use CSS for visual size.
- Sections:
  - Group related content in `<section>`/`<article>` and label them with headings or `aria-labelledby`.
  - Avoid unstructured `div` soup; use semantic elements whenever possible.

[FORMS & INTERACTIVITY]
- Forms:
  - Each input must have a proper `<label>` associated via `for`/`id` or by wrapping the control.
  - Use `<fieldset>`/`<legend>` to group related controls (e.g., password fields, notification settings).
  - Use appropriate input types (`email`, `tel`, `url`, `number`, `password`, etc.) to leverage native validation and mobile keyboards.
- Validation & errors:
  - Place error messages near the relevant fields; associate them via `aria-describedby` if necessary.
  - Mark invalid fields with `aria-invalid="true"` and provide clear text explaining the issue.
- Interactivity:
  - Use native interactive elements (`<button>`, `<a>`, `<input>`, `<select>`) instead of clickable `div`/`span` where possible.
  - When non-native elements must be interactive, provide appropriate `role`, `tabindex`, and keyboard handling.

[ACCESSIBILITY & SEO]
- Accessibility:
  - Provide alt text for meaningful images; use empty alt (`alt=""`) for decorative images.
  - Ensure keyboard access to all interactive elements; do not trap focus unintentionally.
  - Use ARIA roles and attributes sparingly, only when native semantics are insufficient.
  - For complex widgets (modals, dialogs, menus), follow established patterns: roles, `aria-modal`, `aria-expanded`, and focus management.
- SEO:
  - Use meaningful titles, headings, and link text (no “click here”).
  - Avoid content hidden to sighted users but visible to search engines solely for keyword stuffing.
  - Use structured data (JSON-LD) when appropriate for public marketing pages.

[ANTI-PATTERNS]
- Presentational markup (e.g., `<b>`, `<i>` instead of `<strong>`, `<em>`) used for meaning.
- Overuse of generic `<div>` and `<span>` where semantic elements exist.
- Inline event handlers (`onclick=""`, `onchange=""`) in production code; prefer JS modules and event listeners.
- Hard-coded text without language and direction metadata when mixed languages or RTL/LTR issues apply.
- Missing `lang` attribute, missing `title`/`meta description` on important pages.

[VERIFICATION]
- For each HTML change:
  - Run an HTML validator (W3C or tooling equivalent) to detect structural errors.
  - Perform a quick keyboard-only walkthrough for key flows (Tab/Shift+Tab, Enter/Space).
  - Use automated tools (Lighthouse, axe, or similar) where available to catch obvious accessibility and SEO issues.
- Ensure:
  - Pages have proper document skeleton and semantic landmarks.
  - Forms are labeled, errors are announced, and primary interactions are keyboard accessible.
  - No new inline JS/CSS has been introduced in production templates without explicit justification.

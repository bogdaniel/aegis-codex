---
description: "Accessibility & UX — semantic structure, keyboard navigation, and usable layouts."
alwaysApply: true
globs:
  - "src/**"
  - "app/**"
  - "public/**"
  - "frontend/**"
  - "resources/views/**"
  - "templates/**"
---

[ACCESSIBILITY & UX BASELINE]

[CORE MANDATE]
- All user-facing UIs (web, mobile, desktop) must be usable with keyboard-only navigation, readable with assistive tech, and structurally predictable. Visual polish must not break basic accessibility.

[PRINCIPLES]
- Semantics & landmarks:
  - Use semantic elements (`header`, `nav`, `main`, `section`, `footer`, `form`, etc.) and a clear heading hierarchy (one `h1` per page, descending `h2`/`h3` as needed).
  - Provide alt text for meaningful images; mark purely decorative images appropriately (e.g., `alt=""`).
  - Use ARIA roles/attributes only when semantics cannot be expressed with native elements; avoid ARIA overuse.

- Navigation & structure:
  - Never hide primary navigation on small screens without providing an accessible alternative (e.g., a visible “Menu” button that toggles the nav and is keyboard-operable).
  - Provide a “Skip to main content” link at the top of the page for complex layouts where keyboard users would otherwise tab through large navs.
  - Keep layout changes predictable across breakpoints; do not reorder content in ways that confuse keyboard/screen-reader users.

- Keyboard & focus:
  - All interactive elements (links, buttons, form controls) must be reachable via keyboard (Tab/Shift+Tab) and activatable via keyboard (Enter/Space).
  - Never remove focus outlines without providing a visible alternative (e.g., `:focus-visible` styles that are at least as visible as default).
  - Avoid click handlers on non-interactive elements (`div`, `span`) unless you provide correct roles, tabindex, and keyboard interaction.

- Color, contrast & motion:
  - Use sufficient contrast between text and background (aim for WCAG AA as a default).
  - Do not rely on color alone to convey important state (errors, selection, disabled).
  - Avoid gratuitous motion; respect reduced-motion preferences where animations are non-trivial.

[ANTI-PATTERNS]
- Hiding navigation (`display: none`) at mobile breakpoints with no replacement or accessible menu control.
- Removing focus styles globally (e.g., `*:focus { outline: none; }`) without custom focus styles.
- Using `<div>` or `<span>` for buttons/links without roles, keyboard handling, and accessible names.
- Building entire layouts with `div` soup instead of semantic elements and proper headings.
- Using tiny click targets, insufficient color contrast, or hover-only affordances for critical actions.

[VERIFICATION]
- For UI changes, at minimum:
  - Perform a quick keyboard-only walkthrough (Tab/Shift+Tab, Enter/Space) of primary flows.
  - Manually verify that navigation, buttons, and forms are usable without a mouse.
- For web front-ends, consider:
  - Running an HTML/CSS validator and an accessibility linter (e.g., axe, eslint-plugin-jsx-a11y) where applicable.
- Document any deliberate deviations (e.g., legacy constraints, third-party widgets) and mitigation steps in the PR description or ADR.
